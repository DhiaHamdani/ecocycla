{% extends 'baseFront.html.twig' %}

{% block title %}Mon Panier
{% endblock %}

{% block body %}

	<main id="main" class="main">
		{% if error %}
			<div class="alert alert-danger" role="alert">
				{{ error }}
			</div>
		{% endif %}
		<div class="pagetitle">
			<h1>Mon Panier
			</h1>
		</div>
		<!-- End Page Title -->

		<section class="section">
			<div class="row">
				<div class="col-lg-12">

					<div class="card">
						<div class="card-body">

							<h5 class="card-title">List produits</h5>


							<!-- Default Table -->
							<table class="table">
								<thead>
									<tr>
										<th scope="col">Nom</th>
										<th scope="col">Prix</th>
										<th scope="col">Description</th>
										<th scope="col">Quantite</th>
										<th scope="col"></th>
										<th scope="col"></th>
									</tr>
								</thead>
							</i>
						</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>
							{% if Panier == null %}

								<p style="text-align: center">
									Panier vide</p>

							{% endif %}

						</td>
					</tr>
					{% if Panier != null %}
						<td>
							{% if Panier.getProduits() | length == 0 %}

								<p style="text-align: center">
									Panier vide</p>

							{% endif %}

						</td>
						{% for p in Panier.getProduits()  %}

							<tr>

								<td>{{p.nomP}}</td>
								<td>{{p.prixP}}</td>
								<td>{{ p.descriptionP }}</td>
								<td>
									{{ p.Quantiteproduit }}
								</td>


								<td><img style="width: 110px; height: 90px; padding: 2px;" src="{{ asset('uploads/'~p.imageP) }}"/></td>


								<td>

									<a href="{{ path('suppressionProduitDuPanier',{idPanier:Panier.id, idProduit:p.id}) }}">
										<button type="button" class="btn btn-outline-danger" data-toggle="modal" data-target="#exampleModalCenter">
											<i class="bi bi-trash"></i>
										</button>
									</a>


								</td>

							</tr>

						{% endfor %}


					{% endif %}
				</tbody>

				{% if Panier.getProduits() | length > 0 %}
					<tr>

						<td>
							<p>
								Prix Total =
								{{TotalPrix}}
								dt
							</p>

						</td>
					</tr>
				{% endif %}
				<td>
					<a href="{{ path('display_prodFront') }}">
						<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalCenter">
							ajouter produit
						</button>
					</a>


					<a href="{{ path('PasserCommande') }}">
						<button type="button" class="btn btn-primary">Passer la commande</button>
					</a>
				</td>
			</table>
			<!-- End Default Table Example -->
		</div>
	</div>
</div></div></section></main>{% endblock %}
